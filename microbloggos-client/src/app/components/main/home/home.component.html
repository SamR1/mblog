<div class="card">
  <div class="card-header">Welcome on ÂµBloggos</div>
  <div class="card-body">
    <div *ngIf="error" class="alert alert-danger" role="alert">
      {{ error }}
    </div>
    <div *ngIf="message" class="alert alert-success" role="alert">
      {{ message }}
    </div>
    <div *ngIf="!authService.user; else elseBlock" class="alert alert-info" role="alert">
      You must be logged or registered to see posts.
    </div>
    <ng-template #elseBlock>
      <div class="card mb-3">
        <div class="card-body">
          <form [formGroup]="postForm" (ngSubmit)="sendPost(postForm.value)">
            <div class="form-group">
              <textarea name="message" rows="3" maxlength="140" class="form-control" formControlName="message"></textarea>
            </div>
            <button class="btn btn-success">Send</button>
          </form>
        </div>
      </div>
    </ng-template>
  </div>
  <div class="container">
    <div *ngIf="error" class="alert alert-danger" role="alert">
      {{ error }}
    </div>
    <div *ngFor="let post of posts">
      <div class="card post">
        <div class="card-body">
          <blockquote class="blockquote mb-0">
            <p>{{ post.message }}.</p>
            <footer class="blockquote-footer">{{ post.author[0].username }} - <cite title="Source Title">{{ post.creationDate }}</cite></footer>
          </blockquote>
        </div>
      </div>
    </div>
  </div>
</div>